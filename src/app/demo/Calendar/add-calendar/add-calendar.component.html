<div class="calendar-add-container">
    <h2>Add Organization Calander</h2>
    <p class="subtitle">Add New Calendar</p>
  
    <div class="dropdown-row">
      <div class="form-group">
        <label>Organization name</label>
        <select [(ngModel)]="selectedOrg">
          <option value="" disabled selected>Select Organization name</option>
          <option *ngFor="let org of organizationList" [value]="org">{{ org }}</option>
        </select>
      </div>
  
      <div class="form-group">
        <label>Branch name</label>
        <select [(ngModel)]="selectedBranch">
          <option value="" disabled selected>Select Branch name</option>
          <option *ngFor="let branch of branchList" [value]="branch">{{ branch }}</option>
        </select>
      </div>
  
      <div class="form-group">
        <label>Calendar for year</label>
        <select [(ngModel)]="selectedYear">
          <option [ngValue]="null" disabled>Select year</option>
          <option *ngFor="let year of yearList" [value]="year">{{ year }}</option>
        </select>
      </div>
    </div>
  
    <div class="calendar-grid">
      <div class="month" *ngFor="let month of months; let monthIndex = index" (click)="openEventModal(month, monthIndex)">
        <h4>{{ month }}</h4>
        <div class="weekdays">
          <div *ngFor="let day of daysOfWeek" class="weekday">{{ day }}</div>
        </div>
        <div class="days">
          <div
            class="day empty"
            *ngFor="let _ of [].constructor(getStartDayOfMonth(monthIndex))"
          ></div>
          <div
            *ngFor="let day of getCalendarDays(monthIndex)"
            [ngClass]="'day ' + (getDayType(monthIndex, day) === 'full' ? 'full-day' : (getDayType(monthIndex, day) === 'half' ? 'half-day' : ''))"
          >
            {{ day }}
          </div>
        </div>
    </div>
  </div>
  <app-event-modal
    [visible]="eventModalVisible"
    [month]="modalMonth"
    [year]="modalYear"
    [markedDays]="markedDaysByMonth[modalMonthIndex] || {}"
    (save)="handleModalSave($event)"
    (cancel)="closeEventModal()"
    (monthChanged)="onModalMonthChanged($event)"
  ></app-event-modal>
  <div class="actions">
    <button class="btn btn-primary">Cancel</button>
    <button class="btn btn-success" (click)="onSaveCalendar()">Save</button>
  </div>